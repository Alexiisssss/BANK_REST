# üí≥ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**Bank REST API** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **Java 17** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Spring Boot 3**, **PostgreSQL** –∏ **Docker**.  
–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä)
- –ü–µ—Ä–µ–≤–æ–¥–æ–≤ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏
- –ü–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—Ä–æ–ª–∏ **USER** –∏ **ADMIN**), –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (ROLE_USER)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è / –≤—Ö–æ–¥ –ø–æ –ª–æ–≥–∏–Ω—É –∏ –ø–∞—Ä–æ–ª—é
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ **—Å–≤–æ–∏—Ö** –∫–∞—Ä—Ç
- –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞ –∫–∞—Ä—Ç—ã
- –ü–µ—Ä–µ–≤–æ–¥—ã **–º–µ–∂–¥—É —Å–≤–æ–∏–º–∏** –∫–∞—Ä—Ç–∞–º–∏
- –ü–æ–∏—Å–∫ –∫–∞—Ä—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

### üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (ROLE_ADMIN)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
  - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
  - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ / –∞–∫—Ç–∏–≤–∞—Ü–∏—è
  - –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
  - –ü—Ä–æ—Å–º–æ—Ç—Ä **–≤—Å–µ—Ö** –∫–∞—Ä—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üèó –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Java 17**
- **Spring Boot 3**
  - Spring Web
  - Spring Security + JWT
  - Spring Data JPA
- **PostgreSQL 15**
- **Liquibase** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- **Docker / Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Swagger / OpenAPI** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **Maven** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **Lombok** ‚Äî —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- **Validation API** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Docker** –∏ **Docker Compose**
- –°–≤–æ–±–æ–¥–Ω—ã–µ –ø–æ—Ä—Ç—ã:
  - `8080` ‚Äî –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - `5432` ‚Äî –¥–ª—è PostgreSQL

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.env`
–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
SPRING_PROFILES_ACTIVE=dev
APP_PORT=8080
DB_NAME=bankdb
DB_USER=postgres
DB_PASSWORD=postgres
DB_PORT=5432
AES_KEY_B64=GMQ7b7BoYE5Zmyj7ZOqLYtcH6547B+/A14Y30Y1DRkM=
JWT_SECRET=UiEVnGVBdxL2T8FJQ6RvFtLysoKICHDMKL9rwzJ8AG2mBAQ8BgwybbiFBdyo7BA6
JWT_EXPIRATION_MINUTES=120
```

### 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
docker compose build
docker compose up -d
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
- **Swagger UI**: http://localhost:8080/swagger-ui/index.html
- **–ë–î**: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `localhost:5432` (user: `postgres`, pass: `postgres`)

---

## üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **JWT (Bearer Token)**.

1) **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Äî `POST /api/auth/register`
```json
{
  "username": "user1",
  "password": "pass123"
}
```

2) **–õ–æ–≥–∏–Ω** ‚Äî `POST /api/auth/login`
```json
{
  "username": "user1",
  "password": "pass123"
}
```

3) –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `token` –∏–∑ –æ—Ç–≤–µ—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤—Å–µ—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
```
Authorization: Bearer <token>
```

---

## üìú –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```http
GET /api/cards?status=ACTIVE&page=0&size=10
Authorization: Bearer <token>
```

### –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏
`POST /api/transfers`
```json
{
  "fromCardId": 1,
  "toCardId": 2,
  "amount": 500,
  "description": "–û–ø–ª–∞—Ç–∞ —É—Å–ª—É–≥"
}
```

---

## üóÑ –ú–∏–≥—Ä–∞—Ü–∏–∏
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ **Liquibase**.  
–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ `src/main/resources/db/changelog`.

---

## üõ° –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "status": "VALIDATION_ERROR",
  "message": "PAN must contain 16 digits"
}
```


## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã REST (MockMvc)

 - AdminCardsCrudTest

 - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

 - –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç (–∞–¥–º–∏–Ω) —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (ownerId, status, last4)

 - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ / –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç—ã

 - –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

 - BankCardsIntegrationTest

- –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –ª–æ–≥–∏–Ω –∞–¥–º–∏–Ω–æ–º/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ 2 –∫–∞—Ä—Ç ‚Üí –ø–µ—Ä–µ–≤–æ–¥ 200 ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤ (300/700)

- AdminUsersCrudTest

 - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–æ–º

 - –°–º–µ–Ω–∞ —Ä–æ–ª–∏ –Ω–∞ ADMIN

 - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

 - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø

- TransferServiceConcurrencyTest

 - –î–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–∞ (150 –∏ 100) —Å –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏

 - –ì–∞—Ä–∞–Ω—Ç–∏—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å—É–º–º—ã –∏ ‚Äú—Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —É—Å–ø–µ—à–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥‚Äù

–í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ–¥ –ø—Ä–æ—Ñ–∏–ª–µ–º test –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é H2.
–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ MockMvc, —Å–µ—Ä–≤–∏—Å—ã ‚Äî –∫–∞–∫ Spring-–±–∏–Ω—ã.

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä
–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: **Aleks Vol**  
Email: **q09w12@mail.ru**
